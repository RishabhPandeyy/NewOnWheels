<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Service Completed & Payment - MechWay</title>

<meta name="description" content="Complete your service payment with MechWay. View the price breakdown, choose your payment method, and see common service costs.">

<meta name="author" content="MechWay Mechanic">
<meta name="robots" content="noindex, nofollow">

<link rel="canonical" href="https://www.mechwaymechanic.com/service-completed.html"> <!-- !! REPLACE with your actual URL !! -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
/* --- Premium Variables & General Styling --- */
:root {
--primary-color: #00A3FF;
--primary-glow: rgba(0, 163, 255, 0.3);
--dark-navy: #0A192F;
--light-navy: #112240;
--slate: #8892b0;
--light-slate: #a8b2d1;
--white: #e6f1ff;
--font-family: 'Poppins', sans-serif;
--border-radius: 12px;
--transition: all 0.25s cubic-bezier(0.645, 0.045, 0.355, 1);
}

* { box-sizing: border-box; margin: 0; padding: 0; }
html { scroll-behavior: smooth; }
body {
font-family: var(--font-family);
line-height: 1.6;
color: var(--slate);
overflow-x: hidden;
background: linear-gradient(rgba(10, 25, 47, 0.97), rgba(10, 25, 47, 0.97)), url('service.jpg') no-repeat center center/cover;
background-attachment: fixed;
}
.container { max-width: 1100px; margin: 0 auto; padding: 0 2rem; }

/* --- Navbar Styling --- */
.navbar { background: transparent; padding: 1.5rem 5%; position: fixed; width: 100%; top: 0; z-index: 1000; transition: all 0.3s ease-in-out; }
.navbar.scrolled { background: rgba(10, 25, 47, 0.85); backdrop-filter: blur(10px); padding: 0.8rem 5%; box-shadow: 0 5px 20px rgba(0,0,0,0.5); }
.navbar-container { display: flex; justify-content: space-between; align-items: center; max-width: 1200px; margin: 0 auto; }
.navbar-logo { color: var(--white); font-size: 1.8rem; font-weight: 700; text-decoration: none; }
.navbar-menu { display: flex; align-items: center; list-style: none; gap: 2rem; }
.navbar-link { color: var(--light-slate); text-decoration: none; transition: var(--transition); }
.navbar-link:hover, .navbar-link.active { color: var(--primary-color); }
.call-now-button { display: flex; align-items: center; gap: 0.5rem; padding: 0.5rem 1.2rem; border: 1px solid var(--primary-color); border-radius: var(--border-radius); color: var(--primary-color); text-decoration: none; transition: var(--transition); }
.call-now-button:hover { background-color: var(--primary-glow); box-shadow: 0 0 15px var(--primary-glow); }
.hamburger { display: none; color: var(--white); font-size: 1.8rem; cursor: pointer; }

/* --- Payment Section Styling --- */
.payment-section {
padding: 8rem 5% 6rem;
display: flex;
justify-content: center;
align-items: center;
min-height: 100vh;
animation: fadeInPage 0.5s ease-in-out;
margin-top: 60px;
}
.payment-container {
background-color: var(--light-navy);
padding: 3.5rem 3rem;
border-radius: var(--border-radius);
width: 100%;
max-width: 750px;
text-align: center;
box-shadow: 0 10px 40px -15px rgba(0,0,0,0.7);
border: 1px solid transparent;
background-image: linear-gradient(var(--light-navy), var(--light-navy)),
radial-gradient(circle at top left, var(--primary-color), var(--dark-navy) 70%);
background-origin: border-box;
background-clip: padding-box, border-box;
}
.payment-title { font-size: 2.5rem; color: var(--white); margin-bottom: 0.75rem; }
.payment-subtitle { color: var(--light-slate); margin-bottom: 2.5rem; }

.form-group { margin-bottom: 1.5rem; text-align: left; position: relative; }
.form-group label { display: block; color: var(--light-slate); margin-bottom: 0.5rem; font-size: 0.9rem; font-weight: 500; }
.input-icon { position: absolute; left: 1rem; top: 60%; color: var(--slate); transition: var(--transition); font-size: 1rem; }
.form-input {
width: 100%;
padding: 0.9rem 1rem 0.9rem 2.8rem;
background-color: var(--dark-navy);
border: 1px solid #1d2d44;
border-radius: 8px;
color: var(--white);
font-size: 1rem;
transition: var(--transition);
}
.form-input::placeholder { color: var(--slate); opacity: 0.7; }
.form-input:focus { outline: none; border-color: var(--primary-color); box-shadow: 0 0 0 3px var(--primary-glow); }
.form-input:focus ~ .input-icon { color: var(--primary-color); }
.form-select {
-webkit-appearance: none; -moz-appearance: none; appearance: none;
background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%238892b0' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3e%3c/svg%3e");
background-repeat: no-repeat;
background-position: right 1rem center;
background-size: 1em;
padding-right: 3rem; /* Make space for arrow */
}

/* Price Breakdown Styling */
.price-breakdown {
margin: 2rem 0; padding: 1.5rem; background-color: var(--dark-navy);
border-radius: 8px; text-align: left; border: 1px solid #1d2d44;
}
.price-item { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; color: var(--light-slate); font-size: 1rem; }
.price-item span:last-child { font-weight: 600; color: var(--white); }
.total-amount { border-top: 1px solid #1d2d44; padding-top: 1rem; margin-top: 1rem; font-size: 1.5rem; font-weight: 700; color: var(--primary-color); }

/* Payment Options Styling */
.payment-options { margin-top: 2rem; text-align: left; }
.payment-option { background-color: var(--dark-navy); border: 1px solid #1d2d44; border-radius: 8px; padding: 1.2rem; margin-bottom: 1rem; cursor: pointer; transition: var(--transition); display: flex; align-items: center; gap: 1rem; }
.payment-option:hover { border-color: var(--primary-color); }
.payment-option.selected { border-color: var(--primary-color); box-shadow: 0 0 10px var(--primary-glow); }
.payment-option input[type="radio"] { display: none; }
.payment-option .icon { font-size: 1.5rem; color: var(--primary-color); }
.payment-option .details h4 { color: var(--white); font-weight: 600; }
.payment-option .details p { font-size: 0.9rem; color: var(--slate); }
.disabled { opacity: 0.5; cursor: not-allowed; }
.disabled:hover { border-color: #1d2d44; }
.online-payment-btn:not(.disabled):hover { border-color: #25D366; } /* Example color for active online payment */

.form-button { width: 100%; padding: 0.9rem; border-radius: 8px; text-decoration: none; font-weight: 600; font-size: 1.1rem; transition: var(--transition); cursor: pointer; background-color: var(--primary-color); color: var(--dark-navy); border: none; margin-top: 1rem; }
.form-button:hover { transform: translateY(-3px); box-shadow: 0 0 25px var(--primary-glow); }

/* Utility class for hiding elements */
.hidden { display: none; }

@keyframes fadeInPage { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }

/* Footer and Responsive Design (same as before) */
.main-footer { background-color: transparent; padding: 4rem 5% 2rem; border-top: 1px solid var(--light-navy); margin-top: 4rem; }
.footer-content { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 3rem; margin-bottom: 3rem; text-align: center; }
.footer-section h4 { color: var(--white); font-size: 1.2rem; margin-bottom: 1rem; }
.footer-section a { color: var(--slate); text-decoration: none; display: block; margin-bottom: 0.5rem; transition: var(--transition); }
.footer-section a:hover { color: var(--primary-color); }
.trust-badges { display: flex; gap: 1rem; justify-content: center; }
.trust-badges img { height: 40px; }
.footer-bottom { text-align: center; border-top: 1px solid #1d2d44; padding-top: 2rem; }
.social-links { margin-top: 1rem; }
.social-links a { color: var(--slate); font-size: 1.5rem; margin: 0 0.5rem; }
.social-links a:hover { color: var(--primary-color); }

@media (max-width: 768px) {
    .navbar-menu { display: none; position: absolute; top: 100%; left: 0; width: 100%; flex-direction: column; background-color: var(--light-navy); text-align: center; padding: 2rem 0; gap: 1.5rem; }
    .navbar-menu.active { display: flex; }
    .hamburger { display: block; }
    .payment-section { padding: 8rem 5% 4rem; }
    .payment-container { padding: 2.5rem 1.5rem; }
    .payment-title { font-size: 2rem; }
}
@media (min-width: 768px) { .trust-badges { justify-content: flex-start; } .footer-content { text-align: left; } }
</style>
</head>
<body>
    
<header class="navbar" id="main-navbar">
    <!-- Navbar content remains the same -->
    <div class="navbar-container">

        <a href="index.html" class="navbar-logo">MechWay</a>
        <div class="hamburger" id="mobile-menu"><i class="fas fa-bars"></i></div>
        <nav class="navbar-menu" id="nav-menu">
            <a href="index.html" class="navbar-link">Home</a>
            <a href="services.html" class="navbar-link">Services</a>
            <a href="mechanic.html" class="navbar-link">Book a Mechanic</a>
            <a href="tel:+919794575236" class="call-now-button"><i class="fas fa-phone"></i>Book Via Call</a>
        </nav>
    </div>
</header>

<section class="payment-section">
    <div class="payment-container">
        <h1 class="payment-title">Service Completed</h1>
        <p class="payment-subtitle">Fill the details to generate the final bill.</p>

        <form id="payment-form" action="#" method="POST">
            <!-- Mechanic Details -->
            <div class="form-group">
                <label for="mechanic-name">Mechanic's Name</label>
                <i class="fas fa-user-cog input-icon"></i>
                <input type="text" id="mechanic-name" name="mechanic-name" class="form-input" required placeholder="e.g., John Doe">
            </div>
            <div class="form-group">
                <label for="mechanic-type">Vehicle Type Serviced</label>
                <i class="fas fa-tools input-icon"></i>
                <select id="mechanic-type" name="mechanic-type" class="form-input form-select" required>
                    <option value="" disabled selected>Select vehicle type</option>
                    <option value="Car">Car</option>
                    <option value="Bike">Bike</option>
                </select>
            </div>
            
            <!-- Service Details (NEW DYNAMIC SECTION) -->
            <div class="form-group">
                <label for="service-performed">Service Performed</label>
                <i class="fas fa-wrench input-icon"></i>
                <select id="service-performed" name="service-performed" class="form-input form-select" required>
                    <option value="" disabled selected>Choose a service...</option>
                    <optgroup label="Car Services">
                        <option value="Full Service (Oil, Filters)">Full Service (Oil, Filters)</option>
                        <option value="Battery Replacement">Battery Replacement</option>
                        <option value="Brake Pad Replacement">Brake Pad Replacement</option>
                        <option value="AC Gas Refill">AC Gas Refill</option>
                        <option value="Tire Puncture Repair">Tire Puncture Repair</option>
                        <option value="Clutch Assembly Replacement">Clutch Assembly Replacement</option>
                    </optgroup>
                    <optgroup label="Bike Services">
                        <option value="General Service (Oil, Wash)">General Service (Oil, Wash)</option>
                        <option value="Chain Cleaning & Lube">Chain Cleaning & Lube</option>
                        <option value="Brake Shoe/Pad Replacement">Brake Shoe/Pad Replacement</option>
                        <option value="Carburetor Cleaning">Carburetor Cleaning</option>
                        <option value="Bike Puncture Repair">Puncture Repair</option>
                        <option value="Clutch Cable Replacement">Clutch Cable Replacement</option>
                    </optgroup>
                    <option value="other">-- Other (Please Specify) --</option>
                </select>
            </div>

            <!-- "Other" text input, hidden by default -->
            <div class="form-group hidden" id="other-service-group">
                <label for="other-service-details">Specify Other Service</label>
                <i class="fas fa-edit input-icon"></i>
                <input type="text" id="other-service-details" name="other-service-details" class="form-input" placeholder="e.g., Headlight bulb change">
            </div>

            <!-- Pricing -->
            <div class="form-group">
                <label for="mechanic-price">Mechanic's Final Price (INR)</label>
                <i class="fas fa-rupee-sign input-icon"></i>
                <input type="number" id="mechanic-price" name="mechanic-price" class="form-input" required placeholder="Enter final price (e.g., 1000)">
            </div>
            
            <div class="price-breakdown">
                <div class="price-item"><span>Mechanic's Charge</span><span id="display-mechanic-price">₹0.00</span></div>
                <div class="price-item"><span>Platform Fee (10%)</span><span id="display-platform-fee">₹0.00</span></div>
                <div class="price-item total-amount"><span>Total Payable Amount</span><span id="display-total-amount">₹0.00</span></div>
            </div>

            <!-- Payment Options -->
            <div class="payment-options">
                <label class="payment-option" id="cash-option">
                    <input type="radio" name="payment-method" value="cash" checked>
                    <div class="icon"><i class="fas fa-money-bill-wave"></i></div>
                    <div class="details">
                        <h4>Pay with Cash</h4>
                        <p>Pay the total amount directly to the mechanic.</p>
                    </div>
                </label>
                <label class="payment-option online-payment-btn disabled" id="online-option">
                    <input type="radio" name="payment-method" value="online" disabled>
                    <div class="icon"><i class="fas fa-credit-card"></i></div>
                    <div class="details">
                        <h4>Pay Online (UPI, Cards)</h4>
                        <p>Click to activate and integrate Razorpay.</p>
                    </div>
                </label>
            </div>
            
            <button type="submit" class="form-button">Confirm & Complete Service</button>
        </form>
    </div>
</section>

<footer class="main-footer">
    <!-- Footer content remains the same -->
</footer>

<script>
document.addEventListener('DOMContentLoaded', () => {
    const navbar = document.getElementById('main-navbar');
    const mobileMenu = document.getElementById('mobile-menu');
    const navMenu = document.getElementById('nav-menu');
    const paymentForm = document.getElementById('payment-form');
    
    // --- Navbar & Mobile Menu Logic ---
    if (navbar) {
        window.addEventListener('scroll', () => {
            navbar.classList.toggle('scrolled', window.scrollY > 50);
        });
    }
    if (mobileMenu && navMenu) {
        mobileMenu.addEventListener('click', () => {
            navMenu.classList.toggle('active');
        });
    }

    // --- NEW: Logic for "Other" Service Text Field ---
    const servicePerformedSelect = document.getElementById('service-performed');
    const otherServiceGroup = document.getElementById('other-service-group');
    const otherServiceInput = document.getElementById('other-service-details');

    servicePerformedSelect.addEventListener('change', (e) => {
        if (e.target.value === 'other') {
            otherServiceGroup.classList.remove('hidden');
            otherServiceInput.required = true; // Make it required only when visible
        } else {
            otherServiceGroup.classList.add('hidden');
            otherServiceInput.required = false;
        }
    });

    // --- Real-time Price Calculation ---
    const mechanicPriceInput = document.getElementById('mechanic-price');
    const displayMechanicPrice = document.getElementById('display-mechanic-price');
    const displayPlatformFee = document.getElementById('display-platform-fee');
    const displayTotalAmount = document.getElementById('display-total-amount');

    mechanicPriceInput.addEventListener('input', () => {
        const price = parseFloat(mechanicPriceInput.value) || 0;
        const platformFee = price * 0.10;
        const totalAmount = price + platformFee;

        displayMechanicPrice.textContent = `₹${price.toFixed(2)}`;
        displayPlatformFee.textContent = `₹${platformFee.toFixed(2)}`;
        displayTotalAmount.textContent = `₹${totalAmount.toFixed(2)}`;
    });

    // --- Payment Form Submission Handler ---
    if (paymentForm) {
        paymentForm.addEventListener('submit', (e) => {
            e.preventDefault();
            
            // Get service description
            let serviceDescription = servicePerformedSelect.value;
            if (serviceDescription === 'other') {
                serviceDescription = otherServiceInput.value.trim();
            }

            // Check if service description is valid
            if (!serviceDescription) {
                alert('Please select or specify the service performed.');
                return;
            }

            const formData = {
                mechanicName: document.getElementById('mechanic-name').value.trim(),
                vehicleType: document.getElementById('mechanic-type').value,
                service: serviceDescription,
                totalAmount: displayTotalAmount.textContent,
                paymentMethod: document.querySelector('input[name="payment-method"]:checked').value
            };
            
            if (!formData.mechanicName || !formData.vehicleType || !mechanicPriceInput.value) {
                alert('Please fill in all required fields to generate the bill.');
                return;
            }
            

            alert(`Service Completed!\n\n--- SUMMARY ---\nMechanic: ${formData.mechanicName}\nVehicle: ${formData.vehicleType}\nService: ${formData.service}\nPayment Method: ${formData.paymentMethod.toUpperCase()}\n\nTotal Amount to Collect: ${formData.totalAmount}\n\nThank you for using MechWay!`);
            
            paymentForm.reset();
            // Reset UI after submission
            displayMechanicPrice.textContent = '₹0.00';
            displayPlatformFee.textContent = '₹0.00';
            displayTotalAmount.textContent = '₹0.00';
            otherServiceGroup.classList.add('hidden');
        });
    }
});
</script>

</body>
</html>